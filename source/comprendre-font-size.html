<!DOCTYPE html>
<html lang="fr-FR">
<title>Comprendre font-size</title>
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="assets/common.css">
<link rel="stylesheet" href="assets/article.css">
<h1>Comprendre <code>font-size</code></h1>
<p>Le W3C nous informe que <code>font-size</code> indique la hauteur désirée des glyphes de la police.</p>
<aside>
    <blockquote lang="en">
        This property indicates the desired height of glyphs from the font.
        <footer><a href="https://drafts.csswg.org/css-fonts-3/#propdef-font-size" hreflang="en">https://drafts.csswg.org/css-fonts-3/#propdef-font-size</a></footer>
    </blockquote>
</aside>
<p>
    Un glyphe est la représentation graphique d’un signe typographique. Par exemple « A »,
    « <span style="font-style: italic;">A</span> » et « <span style="font-weight: 700;">A</span> » sont trois glyphes
    différents représentant un seul et même caractère (ce sont des <em>allographes</em>).
</p>
<p>
    Si la hauteur des glyphes dépend de <code>font-size</code>,
    ce sont toutefois deux valeurs distinctes.
</p>
<svg display="none"><symbol id="a" viewBox="0 0 20 20">
        <path fill="#111310" d="M7 3h1v1H7zm1 2h1v1H8zM5 8h1v1H5zm4 0h1v1H9zm-4 2h5v1H5zm-1 1h1v1H4zm6 0h1v1H10z"/>
        <path fill="#919390" d="M6 3h1v1H6z"/>
        <path fill="#929491" d="M8 3h1v1H8z"/>
        <path fill="#414240" d="M6 4h1v1H6zm2 0h1v1H8z"/>
        <path fill="#525451" d="M7 4h1v1H7z"/>
        <path fill="#dee0dd" d="M5 5h1v1H5zm4 0h1v1H9z"/>
        <path fill="#141513" d="M6 5h1v1H6z"/>
        <path fill="#d3d5d2" d="M7 5h1v1H7z"/>
        <path fill="#8d8f8c" d="M5 6h1v1H5z"/>
        <path fill="#444643" d="M6 6h1v1H6z"/>
        <path fill="#363835" d="M8 6h1v1H8z"/>
        <path fill="#8e908d" d="M9 6h1v1H9z"/>
        <path fill="#3f403e" d="M5 7h1v1H5z"/>
        <path fill="#868885" d="M6 7h1v1H6z"/>
        <path fill="#797b78" d="M8 7h1v1H8z"/>
        <path fill="#3f403e" d="M9 7h1v1H9z"/>
        <path fill="#d9dbd7" d="M4 8h1v1H4z"/>
        <path fill="#c7c9c6" d="M6 8h1v1H6z"/>
        <path fill="#bbbdba" d="M8 8h1v1H8z"/>
        <path fill="#dcdedb" d="M10 8h1v1H10z"/>
        <path fill="#8b8d8a" d="M4 9h1v1H4z"/>
        <path fill="#1b1c1a" d="M5 9h1v1H5z"/>
        <path fill="#e4e6e3" d="M6 9h1v1H6z"/>
        <path fill="#e7e9e6" d="M7 9h1v1H7z"/>
        <path fill="#dfe1de" d="M8 9h1v1H8z"/>
        <path fill="#171816" d="M9 9h1v1H9z"/>
        <path fill="#8c8e8b" d="M10 9h1v1H10z"/>
        <path fill="#3a3b39" d="M4 10h1v1H4z"/>
        <path fill="#3c3e3b" d="M10 10h1v1H10z"/>
        <path fill="#d8dad6" d="M3 11h1v1H3z"/>
        <path fill="#b4b6b3" d="M5 11h1v1H5z"/>
        <path fill="#a8aaa7" d="M9 11h1v1H9z"/>
        <path fill="#d9dbd7" d="M11 11h1v1h-1z"/>
        <path fill="#878986" d="M3 12h1v1H3z"/>
        <path fill="#212320" d="M4 12h1v1H4z"/>
        <path fill="#171816" d="M10 12h1v1H10z"/>
        <path fill="#888a87" d="M11 12h1v1h-1z"/>
        <path fill="#373936" d="M3 13h1v1H3z"/>
        <path fill="#6e706d" d="M4 13h1v1H4z"/>
        <path fill="#60625f" d="M10 13h1v1H10z"/>
        <path fill="#373936" d="M11 13h1v1h-1z"/>
    </symbol></svg>
<style>
    .svg_sizer {
        background: linear-gradient(to right, #dee2e6 1px, transparent 1px, transparent calc(100% - 1px), #dee2e6 calc(100% - 1px)),
            linear-gradient(to bottom, #dee2e6 1px, transparent 1px, transparent calc(100% - 1px), #dee2e6 calc(100% - 1px));
        background-size: 5% 5%;
        max-width: 20rem;
    }
</style>
<figure>
    <link rel="stylesheet" href="assets/prism.css">
    <pre><code class="language-markup">&lt;span style=&quot;font-size: 16px;&quot;&gt;A&lt;span&gt;</code></pre>
    <div class="svg_sizer">
        <svg viewBox="0 0 20 20">
            <use xlink:href="#a"/>
            <path stroke="#1864ab" stroke-width=".1" d="M14 2v13M2 3h13M2 14h13"/>
            <text x="15" y="9" font-size="1" fill="#1864ab">11px</text>
        </svg>
    </div>
</figure>
<p>Nos 16 pixels ont en réalité servi à dimensionner l’<i lang="en">EM box</i>.</p>

<h2 lang="en">EM box</h2>
<p>
    Attention nous ne parlons pas ici de
    <a href="https://www.w3.org/TR/css-values-4/#em" hreflang="en">l’unité CSS</a>. En typographie,
    l’<i lang="en">EM</i> est une unité qui référence la taille (aussi appelée corps) d’une fonte.
    Chaque glyphe est positionné dans un cadre d’un <i lang="en">EM</i> de haut, d’où le terme
    <i lang="en">EM box</i>.
    Prenons un caractère typographique :
</p>
<figure>
    <img src="assets/comprendre-font-size/Garamond_type_ſi-ligature_2.jpg" alt="" width="736" height="982">
    <figcaption>Daniel Ullrich, <a href="https://de.wikipedia.org/wiki/Benutzer:Threedots" hreflang="de">Threedots</a> [<a href="https://creativecommons.org/licenses/by-sa/3.0/deed.fr">CC BY-SA 3.0</a>]</figcaption>
</figure>
<p>
    Son glyphe est gravé sur une surface appelée <em>épaule</em> dont les contours illustrent l’<i lang="en">EM box</i>.
    Le caractère typographique ci-dessus provient d’une fonte de 12 points ; c’est donc la hauteur de son épaule ainsi
    que la valeur de son <i lang="en">EM</i>.
</p>

<h2>Polices vectorielles</h2>
<p>
    Cependant le web utilise des polices numériques dont les glyphes n’ont ni existence physique,
    ni dimensions intrinsèques. Au lieu d’être gravés sur un caractère typographique (ou
    <a href="https://en.wikipedia.org/wiki/Phototypesetting#/media/File:Neue_Helvetica_phototypesetting_lower_case_a_with_circumflex_(8277798760).jpg" hreflang="en">coupés dans une frisquette</a>),
    ils sont définis comme des images vectorielles dont le canevas est l’<i lang="en">EM box</i>.
</p>
<aside>
    <img src="assets/comprendre-font-size/a-source-sans.png" alt="" width="556" height="791">
</aside>
<p>
    Pour afficher un tel glyphe il faut donner une valeur à son <i lang="en">EM</i>. C’est exactement ce que fait
    <code>font-size</code> !
</p>
<aside>
    <blockquote lang="en">
        For scalable fonts, the font-size is a scale factor applied to the EM unit of the font.
        <footer><a href="https://drafts.csswg.org/css-fonts-3/#propdef-font-size" hreflang="en">https://drafts.csswg.org/css-fonts-3/#propdef-font-size</a></footer>
    </blockquote>
</aside>
<aside>
    <div class="svg_sizer">
        <svg viewBox="0 0 20 20">
            <use xlink:href="#a"/>
            <path stroke="#1864ab" stroke-width=".1" d="M14 1v18M2 2h13M2 18h13"/>
            <text x="15" y="10.5" font-size="1" fill="#1864ab">16px</text>
        </svg>
    </div>
</aside>

<h2>Polices matricielles</h2>
<p>
    Les polices matricielles — également appelées polices <i lang="en">bitmap</i> — constituent un cas
    à part. Les fontes d’une telle police nécessitent un fichier par taille, car leurs glyphes sont
    définis comme des images matricielles. En conséquence, chaque police n’implémente qu’une sélection
    de fontes. Par exemple <a href="http://terminus-font.sourceforge.net/" hreflang="en">Terminus</a>
    implémente 19 fontes, combinaisons de neuf tailles et trois graisses.
</p>
<aside>
    <img src="assets/comprendre-font-size/a-terminus-12px.png" alt="" height="560" width="370">
</aside>
<p>
    Leur seul cas d’usage sur le web est de les définir comme police par défaut sur les navigateurs qui
    les supportent. C’est très limité, mais des adeptes existent toujours !
</p>
<p>
    Dans ce cas, le navigateur va devoir piocher dans la liste des fontes disponibles celle qu’il juge
    le mieux correspondre à notre CSS.
</p>
<aside>
    <blockquote lang="en">
        For non-scalable fonts, the font-size is converted into absolute units and matched against the declared ‘font-size’ of the font.
        <footer><a href="https://drafts.csswg.org/css-fonts-3/#propdef-font-size" hreflang="en">https://drafts.csswg.org/css-fonts-3/#propdef-font-size</a></footer>
    </blockquote>
</aside>
</html>
